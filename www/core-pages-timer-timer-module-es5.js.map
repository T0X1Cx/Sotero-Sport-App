{"version":3,"sources":["webpack:///src/app/core/pages/timer/timer-routing.module.ts","webpack:///src/app/core/pages/timer/timer.page.ts","webpack:///src/app/core/modals/timer-end/timer-end.page.html","webpack:///src/app/core/pages/timer/timer.page.scss","webpack:///src/app/core/modals/timer-end/timer-end.page.ts","webpack:///src/app/core/modals/timer-end/timer-end.page.scss","webpack:///src/app/core/pages/timer/timer.page.html","webpack:///src/app/core/pages/timer/timer.module.ts","webpack:///node_modules/ngx-countdown/__ivy_ngcc__/fesm2015/ngx-countdown.js"],"names":["routes","path","component","TimerPageRoutingModule","imports","forChild","exports","App","circleR","circleDasharray","Math","PI","TimerPage","popoverCtrl","itemsService","modalCtrl","actvRoute","platform","item","title","description","preparation","sets","time","restSets","repeats","restReps","totalTime","itemArray","percent","state","audio","Audio","displayStage","onlyDigits","noFeatures","mute","startDuration","counterPreparation","itemId","snapshot","paramMap","get","console","log","getItemById","subscribe","resp","push","items","load","updateCountersAndDuration","clearInterval","interval","next","timeEx","counterSets","counterTimeEx","counterRestReps","durationPercent","minutes","timer","seconds","String","floor","slice","text","percentage","duration","displayColor","durationPreparation","setInterval","updateTimeDisplay","playAudio","startExercise","durationExercise","startRestReps","startRestSets","stopTimer","modalEnd","durationRestReps","durationRestSets","create","cssClass","modal","present","url","src","play","percentFloat","selector","template","TimerEndPage","dismiss","TimerPageModule","declarations","CountdownComponent_ng_container_0_Template","rf","ctx","ctx_r0","i","CountdownComponent_ng_container_1_Template","_c0","a0","$implicit","CountdownStatus","CountdownTimer","ngZone","fns","commands","ing","nextTime","Date","runOutsideAngular","process","length","shift","diff","count","len","frequency","step","setTimeout","fn","indexOf","splice","ɵfac","CountdownTimer_Factory","t","ɵprov","token","factory","ctorParameters","type","ngDevMode","CountdownGlobalConfig","locale","demand","leftTime","format","timezone","formatDate","date","formatStr","CountdownGlobalConfig_Factory","providedIn","decorators","args","CountdownComponent","defCog","cdr","_notify","status","isDestroy","left","event","_config","notify","Array","isArray","callEvent","stop","destroy","init","pause","action","emit","config","Object","assign","frq","getLeft","_reflow","reflow","force","apply","forEach","Error","add","start","remove","value","prettyText","detectChanges","run","done","end","stopTime","getTime","begin","changes","firstChange","restart","CountdownComponent_Factory","ɵcmp","selectors","hostVars","hostBindings","CountdownComponent_HostBindings","inputs","render","outputs","features","decls","vars","consts","CountdownComponent_Template","directives","encapsulation","changeDetection","propDecorators","host","None","OnPush","CountdownModule","CountdownModule_Factory","ɵmod","ɵinj","providers","ngJitMode"],"mappings":"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","file":"core-pages-timer-timer-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TimerPage } from './timer.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TimerPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TimerPageRoutingModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ItemsService } from '../../../shared/services/items.service';\nimport { IItem } from '../../../shared/interfaces/interfaces';\nimport { BehaviorSubject, Subscription } from 'rxjs';\nimport { ModalController, PopoverController, NavController, AlertController } from '@ionic/angular';\nimport { TimerEndPage } from '../../modals/timer-end/timer-end.page';\nimport { Platform } from '@ionic/angular';\nimport { BackButtonService } from '../../../shared/services/back-button.service';\nimport { Plugins } from '@capacitor/core';\nimport { UiService } from '../../../shared/services/ui.service';\n\nconst { App } = Plugins;\n\n\nconst circleR = 80;\nconst circleDasharray = 2 * Math.PI * circleR;\n\n\n@Component({\n  selector: 'app-timer',\n  templateUrl: './timer.page.html',\n  styleUrls: ['./timer.page.scss'],\n})\nexport class TimerPage implements OnInit {\n\n  item: IItem = {\n    title: '',\n    description: '',\n    preparation: null,\n    sets: null,\n    time: null,\n    restSets: null,\n    repeats: null,\n    restReps: null,\n    totalTime: null,\n  }\n\n  itemArray: IItem[] = [];\n\n  itemId: string;\n\n  percent: BehaviorSubject<number> = new BehaviorSubject(100);\n  time: BehaviorSubject<string> = new BehaviorSubject('00:00');\n\n  state: 'start' | 'stop' = 'stop';\n  circleDasharray = circleDasharray;\n  circleR = circleR;\n  audio = new Audio();\n\n  timeEx: number;\n  restReps: number;\n  restSets: number;\n  displayStage: string = 'Preparación';\n  displayColor: string;\n  onlyDigits: boolean = false;\n  noFeatures: boolean = false;\n  mute: boolean = false;\n\n  preparation: number;\n  preparationMin: number;\n  preparationSec: number;\n\n  interval;\n\n  timer: number;\n\n  startDuration = 1;\n\n  counterPreparation: number = 1\n  counterRestReps: number;\n  counterRestSets: number;\n  counterTimeEx: number;\n  counterSets: number\n\n  constructor(\n    public popoverCtrl: PopoverController,\n    private itemsService: ItemsService,\n    public modalCtrl: ModalController,\n    private actvRoute: ActivatedRoute,\n    public platform: Platform,\n\n\n  ) { }\n\n\n  ngOnInit() {\n\n    this.itemId = this.actvRoute.snapshot.paramMap.get('itemId');\n    console.log(this.itemId + ' Entrando al timer ');\n\n    this.itemsService.getItemById(this.itemId)\n      .subscribe(resp => {\n        // Lo añado a un array por si hay retraso en la respuesta\n        this.itemArray.push(...resp.items)\n        const load = this.item = this.itemArray[0];\n        if (load) {\n          this.updateCountersAndDuration()\n        }\n      });\n  }\n\n  ngOnDestroy() {\n\n    clearInterval(this.interval);\n    this.time.next('00:00');\n    this.updateCountersAndDuration();\n\n  }\n\n\n  updateCountersAndDuration() {\n    // Duration\n    this.preparation = this.item.preparation;\n    this.timeEx = this.item.time;\n    this.restReps = this.item.restReps;\n    this.restSets = this.item.restSets;\n\n    // Counters\n    this.counterSets = this.item.sets;\n    this.counterTimeEx = this.item.repeats * this.counterSets;\n    this.counterRestReps = this.item.repeats - 1;\n  }\n\n\n  // Actualiza la duración\n\n  updateTimeDisplay(durationPercent: number) {\n    let minutes: any = this.timer / 60;\n    let seconds: any = this.timer % 60;\n    minutes = String('0' + Math.floor(minutes)).slice(-2);\n    seconds = String('0' + Math.floor(seconds)).slice(-2);\n    const text = minutes + ':' + seconds;\n    this.time.next(text);\n    const totalTime = this.startDuration * durationPercent;\n    const percentage = ((totalTime - this.timer) / totalTime) * 100;\n    this.percent.next(percentage);\n  }\n\n\n  // Preparación ------------------------------------------------------------------\n\n  startPreparation(duration: number) {\n    this.displayColor = 'restOut';\n    console.log('Entramos en preparación');\n    this.displayStage = 'Preparación'\n    this.state = 'start';\n    clearInterval(this.interval)\n    this.timer = duration;\n    this.durationPreparation();\n\n    this.interval = setInterval(() => {\n      this.durationPreparation();\n    }, 1000)\n  }\n\n  durationPreparation() {\n    this.updateTimeDisplay(this.preparation)\n    --this.timer;\n\n    if (this.timer < 2 && this.timer >= -1) {\n      this.playAudio(\"../../assets/audio/audio02.wav\")\n    }\n    if (this.timer < -1) {\n      this.playAudio(\"../../assets/audio/audio04.wav\")\n    }\n    //_________________________________________\n    if (this.timer < -1) {\n      this.startExercise(this.timeEx)\n\n    }\n  }\n  // -------------------------------------------------------------------------------\n\n  // Ejercicio ---------------------------------------------------------------------\n\n  startExercise(duration: number) {\n    console.log('Entramos en Ejercicio');\n    this.displayColor = 'Rest';\n    this.state = 'start';\n    this.displayStage = 'Ejercicio'\n    clearInterval(this.interval)\n    this.timer = duration;\n    this.durationExercise();\n\n    this.interval = setInterval(() => {\n      this.durationExercise();\n    }, 1000)\n  }\n  durationExercise() {\n    this.updateTimeDisplay(this.timeEx)\n    --this.timer;\n    if (this.timer < 2 && this.timer >= -1) {\n      this.playAudio(\"../../assets/audio/audio02.wav\")\n    }\n    if (this.timer < -1) {\n      this.playAudio(\"../../assets/audio/audio05.wav\")\n    }\n    if (this.timer < -1) {\n      this.counterTimeEx--;\n      this.startRestReps(this.restReps)\n      if (this.counterTimeEx === this.counterSets) {\n        this.startRestSets(this.restSets)             // Empieza el descanso entre Series\n        if (this.counterSets === 1) {\n          this.stopTimer()\n          this.updateCountersAndDuration();\n          this.modalEnd()\n\n        }\n      }\n    }\n  }\n  // -------------------------------------------------------------------------------\n\n  // Descanso Repeticion -----------------------------------------------------------\n\n  startRestReps(duration: number) {\n    console.log('Entramos en descanso repeticiones');\n    this.displayColor = 'Ex';\n    this.state = 'start';\n    this.displayStage = 'Descanso'\n    clearInterval(this.interval)\n    this.timer = duration;\n    this.durationRestReps();\n    this.interval = setInterval(() => {\n      this.durationRestReps();\n    }, 1000)\n  }\n  durationRestReps() {\n    this.updateTimeDisplay(this.restReps)\n    --this.timer;\n    if (this.timer < 2 && this.timer >= -1) {\n      this.playAudio(\"../../assets/audio/audio02.wav\")\n    }\n    if (this.timer < -1) {\n      this.playAudio(\"../../assets/audio/audio04.wav\")\n    }\n    if (this.timer < -1) {\n      this.counterRestReps--;\n      this.startExercise(this.timeEx)\n    }\n  }\n  // --------------------------------------------------------------------------------\n\n  // Descanso Series ----------------------------------------------------------------\n\n  startRestSets(duration: number) {\n    console.log('Entramos en descanso series');\n    this.displayColor = 'restOut';\n    this.state = 'start';\n    this.displayStage = 'Descanso Serie'\n    clearInterval(this.interval)\n    this.timer = duration;\n    this.durationRestSets();\n    this.interval = setInterval(() => {\n      this.durationRestSets();\n    }, 1000)\n  }\n  durationRestSets() {\n    this.updateTimeDisplay(this.restSets)\n    --this.timer;\n    if (this.timer < 2 && this.timer >= -1) {\n      this.playAudio(\"../../assets/audio/audio02.wav\")\n    }\n    if (this.timer < -1) {\n      this.playAudio(\"../../assets/audio/audio04.wav\")\n    }\n    if (this.timer < -1) {\n      this.counterSets--;\n      this.counterTimeEx++;\n      this.startExercise(this.timeEx)\n    }\n  }\n  // --------------------------------------------------------------------------------\n\n\n  // Muestra el modal de final del ejercicio\n  async modalEnd() {\n    const modal = await this.modalCtrl.create({\n      cssClass: 'modal-end',\n      component: TimerEndPage,\n\n    });\n    return await modal.present();\n  }\n\n\n  // Play audio\n  playAudio(url: string) {\n    let audio = new Audio();\n    audio.src = url;\n    audio.load();\n    audio.play();\n  }\n\n\n  // Porcentage\n  percentageOffset(percent) {\n    const percentFloat = percent / 100;\n    return circleDasharray * (1 - percentFloat)\n  }\n\n  // Stop timer\n  stopTimer() {\n    clearInterval(this.interval);\n    this.time.next('00:00');\n    this.updateCountersAndDuration();\n    this.state = 'stop';\n  }\n\n}\n","export default \"<ion-content class=\\\"ion-padding\\\" class=\\\"ion-text-center\\\">\\n  <img src=\\\"../../../../assets/img/cup.png\\\" alt=\\\"\\\" />\\n  <h1 color=\\\"soterosport-darkyellow\\\"><strong>¡ Fin !</strong></h1>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"closeModal()\\\">\\n        <ion-icon slot=\\\"end\\\" name=\\\"close\\\"></ion-icon>\\n        Cerrar\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","export default \"ion-icon {\\n  font-size: 1.5em;\\n}\\n\\nh3 {\\n  font-size: 2.5em;\\n  font-weight: 600;\\n  margin-top: 30px;\\n  color: #ffffff !important;\\n}\\n\\n#progress-circle {\\n  margin-top: 15px;\\n  transform: rotate(-90deg);\\n}\\n\\n.timer-text {\\n  transform: rotate(90deg);\\n  transform-origin: center;\\n  font-size: 36px;\\n  text-anchor: middle;\\n  font-weight: 700;\\n  fill: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3RpbWVyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0VBRUEsZ0JBQUE7RUFDQSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSx5QkFBQTtBQUNGOztBQUVBO0VBQ0Usd0JBQUE7RUFDQSx3QkFBQTtFQUNBLGVBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsV0FBQTtBQUNGIiwiZmlsZSI6InRpbWVyLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pY29uIHtcbiAgZm9udC1zaXplOiAxLjVlbTtcbn1cbmgzIHtcbiAgZm9udC1zaXplOiAyLjVlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgLy8gdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgY29sb3I6ICNmZmZmZmYgIWltcG9ydGFudDtcbn1cblxuI3Byb2dyZXNzLWNpcmNsZSB7XG4gIG1hcmdpbi10b3A6IDE1cHg7XG4gIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XG59XG5cbi50aW1lci10ZXh0IHtcbiAgdHJhbnNmb3JtOiByb3RhdGUoOTBkZWcpO1xuICB0cmFuc2Zvcm0tb3JpZ2luOiBjZW50ZXI7XG4gIGZvbnQtc2l6ZTogMzZweDtcbiAgdGV4dC1hbmNob3I6IG1pZGRsZTtcbiAgZm9udC13ZWlnaHQ6IDcwMDtcbiAgZmlsbDogcmdiKDI1NSwgMjU1LCAyNTUpO1xuICAvLyBmaWxsOiAjZmZlZWQwO1xufVxuIl19 */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-timer-end',\n  templateUrl: './timer-end.page.html',\n  styleUrls: ['./timer-end.page.scss'],\n})\nexport class TimerEndPage implements OnInit {\n\n  constructor(private modalCtrl: ModalController) { }\n\n  ngOnInit() {\n  }\n\n\n  closeModal() {\n    this.modalCtrl.dismiss();\n  }\n}\n","export default \"h1 {\\n  font-size: 2.5em;\\n}\\n\\nimg {\\n  margin-top: 30px;\\n  width: 200px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3RpbWVyLWVuZC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxZQUFBO0FBQ0YiLCJmaWxlIjoidGltZXItZW5kLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImgxIHtcbiAgZm9udC1zaXplOiAyLjVlbTtcbn1cblxuaW1nIHtcbiAgbWFyZ2luLXRvcDogMzBweDtcbiAgd2lkdGg6IDIwMHB4O1xufVxuIl19 */\";","export default \"<ion-header>\\n    <ion-header class=\\\"ion-no-border\\\">\\n        <ion-toolbar class=\\\"ion-text-center\\\">\\n            <!-- Menu -->\\n            <ion-buttons slot=\\\"start\\\">\\n                <ion-menu-button autoHide=\\\"false\\\" menu=\\\"first\\\"></ion-menu-button>\\n            </ion-buttons>\\n            <!-- Título -->\\n            <ion-title>{{item.title}}</ion-title>\\n\\n            <!-- Icono info -->\\n            <ion-buttons slot=\\\"end\\\">\\n                <ion-button>\\n                    <ion-icon name=\\\"information-circle-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n                </ion-button>\\n            </ion-buttons>\\n        </ion-toolbar>\\n    </ion-header>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-text-center\\\">\\n    <h3>{{displayStage}}</h3>\\n\\n    <ion-grid fixed>\\n        <ion-row>\\n            <ion-col class=\\\"ion-text-center\\\">\\n                <svg id=\\\"progress-circle\\\" width=\\\"40vh\\\" height=\\\"40vh\\\" viewBox=\\\"0 0 175 175\\\">\\n          <linearGradient id=\\\"linearColors1\\\" x1=\\\"0\\\" y1=\\\"0\\\" x2=\\\"1\\\" y2=\\\"1\\\">\\n            <stop\\n              *ngIf=\\\"displayColor === 'restOut'\\\"\\n              offset=\\\"0%\\\"\\n              stop-color=\\\"#4DD3E3\\\"\\n            ></stop>\\n            <stop\\n              *ngIf=\\\"displayColor === 'restOut'\\\"\\n              offset=\\\"100%\\\"\\n              stop-color=\\\"#7DCFFF\\\"\\n            ></stop>\\n            <stop\\n              *ngIf=\\\"displayColor === 'Ex'\\\"\\n              offset=\\\"0%\\\"\\n              stop-color=\\\"#ff9368\\\"\\n            ></stop>\\n            <stop\\n              *ngIf=\\\"displayColor === 'Ex'\\\"\\n              offset=\\\"100%\\\"\\n              stop-color=\\\"#FF412C\\\"\\n            ></stop>\\n            <stop\\n              *ngIf=\\\"displayColor === 'Rest'\\\"\\n              offset=\\\"0%\\\"\\n              stop-color=\\\"#A4FCE5\\\"\\n            ></stop>\\n            <stop\\n              *ngIf=\\\"displayColor === 'Rest'\\\"\\n              offset=\\\"100%\\\"\\n              stop-color=\\\"#85FF8B\\\"\\n            ></stop>\\n          </linearGradient>\\n          <circle\\n            cx=\\\"50%\\\"\\n            cy=\\\"50%\\\"\\n            [attr.r]=\\\"circleR\\\"\\n            fill=\\\"none\\\"\\n            stroke=\\\"#34343C\\\"\\n            stroke-width=\\\"14\\\"\\n          />\\n          <circle\\n            cx=\\\"50%\\\"\\n            cy=\\\"50%\\\"\\n            [attr.r]=\\\"circleR\\\"\\n            fill=\\\"none\\\"\\n            stroke=\\\"#121213\\\"\\n            stroke-width=\\\"12\\\"\\n          />\\n          <circle\\n            cx=\\\"50%\\\"\\n            cy=\\\"50%\\\"\\n            [attr.r]=\\\"circleR\\\"\\n            fill=\\\"none\\\"\\n            stroke=\\\"url(#linearColors1)\\\"\\n            stroke-width=\\\"9\\\"\\n            stroke-linecap=\\\"round\\\"\\n            [attr.stroke-dasharray]=\\\"circleDasharray\\\"\\n            [attr.stroke-dashoffset]=\\\"percentageOffset(percent | async)\\\"\\n          />\\n          <text x=\\\"50%\\\" y=\\\"57%\\\" class=\\\"timer-text\\\">{{ time | async }}</text>\\n        </svg>\\n            </ion-col>\\n        </ion-row>\\n    </ion-grid>\\n    <ion-card class=\\\"ion-padding\\\">\\n        <ion-item>\\n            <ion-label>\\n                <h2>Descripción</h2>\\n                <p>{{item.description}}</p>\\n            </ion-label>\\n        </ion-item>\\n    </ion-card>\\n</ion-content>\\n\\n<ion-footer class=\\\"ion-padding\\\">\\n    <ion-toolbar>\\n        <ion-button *ngIf=\\\"state === 'stop'\\\" (click)=\\\"startPreparation(this.preparation)\\\" color=\\\"soterosport-blue\\\" expand=\\\"block\\\">\\n            <ion-icon color=\\\"soterosport-darkcream\\\" name=\\\"play\\\"></ion-icon>\\n        </ion-button>\\n\\n        <ion-button *ngIf=\\\"state === 'start'\\\" (click)=\\\"stopTimer()\\\" color=\\\"soterosport-red\\\" expand=\\\"block\\\">\\n            <ion-icon *ngIf=\\\"state === 'start'\\\" color=\\\"soterosport-darkcream\\\" name=\\\"stop\\\"></ion-icon>\\n        </ion-button>\\n\\n        <!-- (click)=\\\"startTimer()\\\" -->\\n        <!-- *ngIf=\\\"state === 'stop'\\\" -->\\n        <!-- *ngIf=\\\"state === 'start'\\\"  -->\\n        <!-- (click)=\\\"stopTimer()\\\" -->\\n    </ion-toolbar>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { TimerPageRoutingModule } from './timer-routing.module';\nimport { TimerPage } from './timer.page';\nimport { CountdownModule } from 'ngx-countdown';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CountdownModule,\n    TimerPageRoutingModule\n  ],\n  declarations: [TimerPage]\n})\nexport class TimerPageModule { }\n","import { Injectable, NgZone, ɵɵdefineInjectable, ɵɵinject, LOCALE_ID, Inject, EventEmitter, Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, Input, Output, NgModule } from '@angular/core';\nimport { formatDate, CommonModule } from '@angular/common';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nfunction CountdownComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainerStart(0);\n    ɵngcc0.ɵɵelement(1, \"span\", 2);\n    ɵngcc0.ɵɵelementContainerEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"innerHTML\", ctx_r0.i.text, ɵngcc0.ɵɵsanitizeHtml);\n} }\nfunction CountdownComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementContainer(0);\n} }\nconst _c0 = function (a0) { return { $implicit: a0 }; };\nvar CountdownStatus;\n(function (CountdownStatus) {\n    CountdownStatus[CountdownStatus[\"ing\"] = 0] = \"ing\";\n    CountdownStatus[CountdownStatus[\"pause\"] = 1] = \"pause\";\n    CountdownStatus[CountdownStatus[\"stop\"] = 2] = \"stop\";\n    CountdownStatus[CountdownStatus[\"done\"] = 3] = \"done\";\n})(CountdownStatus || (CountdownStatus = {}));\n\nclass CountdownTimer {\n    constructor(ngZone) {\n        this.ngZone = ngZone;\n        this.fns = [];\n        this.commands = [];\n        this.ing = false;\n    }\n    start() {\n        if (this.ing === true) {\n            return;\n        }\n        this.ing = true;\n        this.nextTime = +new Date();\n        this.ngZone.runOutsideAngular(() => {\n            this.process();\n        });\n    }\n    process() {\n        while (this.commands.length) {\n            this.commands.shift()();\n        }\n        let diff = +new Date() - this.nextTime;\n        const count = 1 + Math.floor(diff / 100);\n        diff = 100 - (diff % 100);\n        this.nextTime += 100 * count;\n        for (let i = 0, len = this.fns.length; i < len; i += 2) {\n            let frequency = this.fns[i + 1];\n            // 100/s\n            if (0 === frequency) {\n                this.fns[i](count);\n                // 1000/s\n            }\n            else {\n                // 先把末位至0，再每次加2\n                frequency += 2 * count - 1;\n                const step = Math.floor(frequency / 20);\n                if (step > 0) {\n                    this.fns[i](step);\n                }\n                // 把末位还原成1\n                this.fns[i + 1] = (frequency % 20) + 1;\n            }\n        }\n        if (!this.ing) {\n            return;\n        }\n        setTimeout(() => this.process(), diff);\n    }\n    add(fn, frequency) {\n        this.commands.push(() => {\n            this.fns.push(fn);\n            this.fns.push(frequency === 1000 ? 1 : 0);\n            this.ing = true;\n        });\n        return this;\n    }\n    remove(fn) {\n        this.commands.push(() => {\n            const i = this.fns.indexOf(fn);\n            if (i !== -1) {\n                this.fns.splice(i, 2);\n            }\n            this.ing = this.fns.length > 0;\n        });\n        return this;\n    }\n}\nCountdownTimer.ɵfac = function CountdownTimer_Factory(t) { return new (t || CountdownTimer)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone)); };\nCountdownTimer.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: CountdownTimer, factory: CountdownTimer.ɵfac });\nCountdownTimer.ctorParameters = () => [\n    { type: NgZone }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CountdownTimer, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }]; }, null); })();\n\n// tslint:disable: no-inferrable-types\nclass CountdownGlobalConfig {\n    constructor(locale) {\n        this.locale = locale;\n        this.demand = false;\n        this.leftTime = 0;\n        this.format = 'HH:mm:ss';\n        this.timezone = '+0000';\n        this.formatDate = ({ date, formatStr, timezone }) => {\n            return formatDate(new Date(date), formatStr, this.locale, timezone || this.timezone || '+0000');\n        };\n    }\n}\nCountdownGlobalConfig.ɵfac = function CountdownGlobalConfig_Factory(t) { return new (t || CountdownGlobalConfig)(ɵngcc0.ɵɵinject(LOCALE_ID)); };\nCountdownGlobalConfig.ɵprov = ɵɵdefineInjectable({ factory: function CountdownGlobalConfig_Factory() { return new CountdownGlobalConfig(ɵɵinject(LOCALE_ID)); }, token: CountdownGlobalConfig, providedIn: \"root\" });\nCountdownGlobalConfig.ctorParameters = () => [\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CountdownGlobalConfig, [{\n        type: Injectable,\n        args: [{ providedIn: 'root' }]\n    }], function () { return [{ type: String, decorators: [{\n                type: Inject,\n                args: [LOCALE_ID]\n            }] }]; }, null); })();\n\nclass CountdownComponent {\n    constructor(locale, timer, defCog, cdr, ngZone) {\n        this.locale = locale;\n        this.timer = timer;\n        this.defCog = defCog;\n        this.cdr = cdr;\n        this.ngZone = ngZone;\n        this.frequency = 1000;\n        this._notify = {};\n        this.status = CountdownStatus.ing;\n        this.isDestroy = false;\n        this.i = {};\n        this.left = 0;\n        this.event = new EventEmitter();\n    }\n    set config(i) {\n        if (i.notify != null && !Array.isArray(i.notify) && i.notify > 0) {\n            i.notify = [i.notify];\n        }\n        this._config = i;\n    }\n    get config() {\n        return this._config;\n    }\n    /**\n     * Start countdown, you must manually call when `demand: false`\n     */\n    begin() {\n        this.status = CountdownStatus.ing;\n        this.callEvent('start');\n    }\n    /**\n     * Restart countdown\n     */\n    restart() {\n        if (this.status !== CountdownStatus.stop) {\n            this.destroy();\n        }\n        this.init();\n        this.callEvent('restart');\n    }\n    /**\n     * Stop countdown, must call `restart` when stopped, it's different from pause, unable to recover\n     */\n    stop() {\n        if (this.status === CountdownStatus.stop) {\n            return;\n        }\n        this.status = CountdownStatus.stop;\n        this.destroy();\n        this.callEvent('stop');\n    }\n    /**\n     * Pause countdown, you can use `resume` to recover again\n     */\n    pause() {\n        if (this.status === CountdownStatus.stop || this.status === CountdownStatus.pause) {\n            return;\n        }\n        this.status = CountdownStatus.pause;\n        this.callEvent('pause');\n    }\n    /**\n     * Resume countdown\n     */\n    resume() {\n        if (this.status === CountdownStatus.stop || this.status !== CountdownStatus.pause) {\n            return;\n        }\n        this.status = CountdownStatus.ing;\n        this.callEvent('resume');\n    }\n    callEvent(action) {\n        this.event.emit({ action, left: this.left, status: this.status, text: this.i.text });\n    }\n    init() {\n        const { locale, defCog } = this;\n        const config = (this.config = Object.assign(Object.assign(Object.assign({}, new CountdownGlobalConfig(locale)), defCog), this.config));\n        // tslint:disable-next-line: no-bitwise\n        const frq = (this.frequency = ~config.format.indexOf('S') ? 100 : 1000);\n        this.status = config.demand ? CountdownStatus.pause : CountdownStatus.ing;\n        this.getLeft();\n        // bind reflow to me\n        const _reflow = this.reflow;\n        this.reflow = (count = 0, force = false) => _reflow.apply(this, [count, force]);\n        if (Array.isArray(config.notify)) {\n            config.notify.forEach((time) => {\n                if (time < 1) {\n                    throw new Error(`The notify config must be a positive integer.`);\n                }\n                time = time * 1000;\n                time = time - (time % frq);\n                this._notify[time] = true;\n            });\n        }\n        this.timer.add(this.reflow, frq).start();\n        this.reflow(0, true);\n    }\n    destroy() {\n        this.timer.remove(this.reflow);\n        return this;\n    }\n    /**\n     * 更新时钟\n     */\n    reflow(count = 0, force = false) {\n        if (this.isDestroy) {\n            return;\n        }\n        const { status, config, _notify } = this;\n        if (!force && status !== CountdownStatus.ing) {\n            return;\n        }\n        let value = (this.left = this.left - this.frequency * count);\n        if (value < 1) {\n            value = 0;\n        }\n        this.i = {\n            value,\n            text: config.formatDate({ date: value, formatStr: config.format, timezone: config.timezone }),\n        };\n        if (typeof config.prettyText === 'function') {\n            this.i.text = config.prettyText(this.i.text);\n        }\n        this.cdr.detectChanges();\n        if (config.notify === 0 || _notify[value]) {\n            this.ngZone.run(() => {\n                this.callEvent('notify');\n            });\n        }\n        if (value === 0) {\n            this.ngZone.run(() => {\n                this.status = CountdownStatus.done;\n                this.destroy();\n                this.callEvent('done');\n            });\n        }\n    }\n    /**\n     * 获取倒计时剩余帧数\n     */\n    getLeft() {\n        const { config, frequency } = this;\n        let left = config.leftTime * 1000;\n        const end = config.stopTime;\n        if (!left && end) {\n            left = end - new Date().getTime();\n        }\n        this.left = left - (left % frequency);\n    }\n    ngOnInit() {\n        this.init();\n        if (!this.config.demand) {\n            this.begin();\n        }\n    }\n    ngOnDestroy() {\n        this.isDestroy = true;\n        this.destroy();\n    }\n    ngOnChanges(changes) {\n        if (!changes.config.firstChange) {\n            this.restart();\n        }\n    }\n}\nCountdownComponent.ɵfac = function CountdownComponent_Factory(t) { return new (t || CountdownComponent)(ɵngcc0.ɵɵdirectiveInject(LOCALE_ID), ɵngcc0.ɵɵdirectiveInject(CountdownTimer), ɵngcc0.ɵɵdirectiveInject(CountdownGlobalConfig), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone)); };\nCountdownComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: CountdownComponent, selectors: [[\"countdown\"]], hostVars: 2, hostBindings: function CountdownComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"count-down\", true);\n    } }, inputs: { config: \"config\", render: \"render\" }, outputs: { event: \"event\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 2, vars: 5, consts: [[4, \"ngIf\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [3, \"innerHTML\"]], template: function CountdownComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, CountdownComponent_ng_container_0_Template, 2, 1, \"ng-container\", 0);\n        ɵngcc0.ɵɵtemplate(1, CountdownComponent_ng_container_1_Template, 1, 0, \"ng-container\", 1);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.render);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngTemplateOutlet\", ctx.render)(\"ngTemplateOutletContext\", ɵngcc0.ɵɵpureFunction1(3, _c0, ctx.i));\n    } }, directives: [ɵngcc1.NgIf, ɵngcc1.NgTemplateOutlet], encapsulation: 2, changeDetection: 0 });\nCountdownComponent.ctorParameters = () => [\n    { type: String, decorators: [{ type: Inject, args: [LOCALE_ID,] }] },\n    { type: CountdownTimer },\n    { type: CountdownGlobalConfig },\n    { type: ChangeDetectorRef },\n    { type: NgZone }\n];\nCountdownComponent.propDecorators = {\n    config: [{ type: Input }],\n    render: [{ type: Input }],\n    event: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CountdownComponent, [{\n        type: Component,\n        args: [{\n                selector: 'countdown',\n                template: `\n    <ng-container *ngIf=\"!render\">\n      <span [innerHTML]=\"i.text\"></span>\n    </ng-container>\n    <ng-container *ngTemplateOutlet=\"render; context: { $implicit: i }\"></ng-container>\n  `,\n                host: { '[class.count-down]': 'true' },\n                encapsulation: ViewEncapsulation.None,\n                changeDetection: ChangeDetectionStrategy.OnPush\n            }]\n    }], function () { return [{ type: String, decorators: [{\n                type: Inject,\n                args: [LOCALE_ID]\n            }] }, { type: CountdownTimer }, { type: CountdownGlobalConfig }, { type: ɵngcc0.ChangeDetectorRef }, { type: ɵngcc0.NgZone }]; }, { event: [{\n            type: Output\n        }], config: [{\n            type: Input\n        }], render: [{\n            type: Input\n        }] }); })();\n\nclass CountdownModule {\n}\nCountdownModule.ɵfac = function CountdownModule_Factory(t) { return new (t || CountdownModule)(); };\nCountdownModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: CountdownModule });\nCountdownModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ providers: [CountdownTimer], imports: [[CommonModule]] });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(CountdownModule, { declarations: function () { return [CountdownComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [CountdownComponent]; } }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CountdownModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                providers: [CountdownTimer],\n                declarations: [CountdownComponent],\n                exports: [CountdownComponent]\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { CountdownComponent, CountdownGlobalConfig, CountdownModule, CountdownStatus, CountdownTimer };\n\n//# sourceMappingURL=ngx-countdown.js.map"]}