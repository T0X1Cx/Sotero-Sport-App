{"version":3,"sources":["./src/app/core/pages/items/items-routing.module.ts","./src/app/core/pages/items/items.page.scss","./src/app/core/pages/items/items.page.html","./src/app/core/pages/items/items.module.ts","./src/app/core/pages/items/items.page.ts"],"names":[],"mappings":"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","file":"items-items-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ItemsPage } from './items.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ItemsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ItemsPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpdGVtcy5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar class=\\\"ion-text-center\\\">\\n        <!-- Menu -->\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button menu=\\\"first\\\"></ion-menu-button>\\n        </ion-buttons>\\n        <!-- Título -->\\n        <ion-title>{{listTitle}}</ion-title>\\n\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button>\\n                <ion-icon name=\\\"information-circle-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <!-- Listas -->\\n    <ion-content>\\n        <ion-list>\\n            <ion-list-header>\\n                <ion-label>Mis ejercicios</ion-label>\\n            </ion-list-header>\\n\\n            <ion-item-sliding *ngFor=\\\"let item of items; let i = index\\\" class=\\\"animated fadeInDown\\\">\\n                <ion-item detail (click)=\\\"goToTimer(item._id)\\\">\\n                    <ion-grid fixed>\\n                        <ion-row>\\n                            <ion-col size=\\\"8\\\">\\n                                <ion-label>\\n                                    <h2>{{ item.title}}</h2>\\n                                    <p>{{ item.description }}</p>\\n                                </ion-label>\\n                            </ion-col>\\n                            <ion-note slot=\\\"end\\\"></ion-note>\\n                            <ion-col size=\\\"4\\\"></ion-col>\\n                        </ion-row>\\n                    </ion-grid>\\n                </ion-item>\\n\\n                <ion-item-options (click)=\\\"deleteItemAlert(item._id, i)\\\" side=\\\"end\\\">\\n                    <ion-item-option color=\\\"danger\\\">\\n                        <ion-icon color=\\\"soterosport-cream\\\" slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\n                    </ion-item-option>\\n                </ion-item-options>\\n\\n                <ion-item-options (click)=\\\"goToAddEdit(listId, item._id)\\\" side=\\\"start\\\">\\n                    <ion-item-option color=\\\"soterosport-blue\\\">\\n                        <ion-icon color=\\\"soterosport-cream\\\" slot=\\\"icon-only\\\" name=\\\"create-outline\\\"></ion-icon>\\n                    </ion-item-option>\\n                </ion-item-options>\\n            </ion-item-sliding>\\n        </ion-list>\\n    </ion-content>\\n\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"center\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"soterosport-darkyellow\\\" (click)=\\\"goAddEdit()\\\">\\n            <ion-icon size=\\\"large\\\" color=\\\"soterosport-cream\\\" name=\\\"add\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ItemsPageRoutingModule } from './items-routing.module';\n\nimport { ItemsPage } from './items.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ItemsPageRoutingModule\n  ],\n  declarations: [ItemsPage]\n})\nexport class ItemsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IItem } from 'src/app/shared/interfaces/interfaces';\nimport { ItemsService } from 'src/app/shared/services/items.service';\nimport { AlertController } from '@ionic/angular';\nimport { UiService } from '../../../shared/services/ui.service';\n\n@Component({\n  selector: 'app-items',\n  templateUrl: './items.page.html',\n  styleUrls: ['./items.page.scss'],\n})\nexport class ItemsPage implements OnInit {\n\n  items: IItem[] = [];\n  listId: string;\n  enabled: boolean = true;\n  listTitle: string;\n  itemCount: number;\n\n\n  constructor\n    (\n      private itemsService: ItemsService,\n      private actvRoute: ActivatedRoute,\n      private alertCtrl: AlertController,\n      private uiService: UiService,\n      private router: Router\n    ) { }\n\n\n  ngOnInit() {\n\n    this.listTitle = this.actvRoute.snapshot.paramMap.get('listTitle');\n    this.listId = this.actvRoute.snapshot.paramMap.get('listId');\n\n\n    this.itemsService.getItems(this.listId)\n      .subscribe(resp => {\n        console.log(resp);\n        this.items.push(...resp.items);\n      });\n\n    this.itemsService.newItem.subscribe(item => {\n      // Insertamos el item en el array de items en la 1º posición\n      this.items.unshift(item);\n\n\n    });\n\n  }\n\n  // Ir a añadir o editar\n\n  goAddEdit() {\n    this.router.navigateByUrl(`/add/${this.listId}`);\n    console.log('Al añadir item tenemos listId --> ' + this.listId);\n  }\n\n  goToTimer(itemId) {\n    this.router.navigateByUrl(`timer/${itemId}`);\n  }\n\n  goToAddEdit(listId, itemId) {\n    this.router.navigateByUrl(`edit/${listId}/${itemId}`);\n  }\n\n\n  // Eliminar item\n\n  deleteItem(itemId: string, index: number) {\n\n    this.itemsService.deleteItem(itemId);\n\n    this.items.splice(index, 1);\n  }\n\n  // Alert para eliminar item\n\n  async deleteItemAlert(itemId: string, index: number) {\n\n    const alert = await this.alertCtrl.create({\n      header: 'Eliminar Item',\n      message: '¿Está seguro que desea eliminar este item?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancelar');\n          }\n        },\n        {\n          text: 'Borrar',\n          handler: () => {\n\n            this.deleteItem(itemId, index)\n            this.uiService.presentToast('Item eliminado correctamente.');\n\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n\n\n\n}\n"],"sourceRoot":"webpack:///"}