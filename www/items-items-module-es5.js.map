{"version":3,"sources":["webpack:///src/app/core/pages/items/items-routing.module.ts","webpack:///src/app/core/pages/items/items.page.scss","webpack:///src/app/core/pages/items/items.page.html","webpack:///src/app/core/pages/items/items.module.ts","webpack:///src/app/core/pages/items/items.page.ts"],"names":["routes","path","component","ItemsPageRoutingModule","imports","forChild","exports","ItemsPageModule","declarations","ItemsPage","itemsService","actvRoute","alertCtrl","uiService","router","items","enabled","listTitle","snapshot","paramMap","get","listId","getItems","subscribe","resp","console","log","push","newItem","item","unshift","navigateByUrl","itemId","index","deleteItem","splice","create","header","message","buttons","text","role","handler","presentToast","alert","present","selector","template"],"mappings":"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","file":"items-items-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ItemsPage } from './items.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ItemsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ItemsPageRoutingModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJpdGVtcy5wYWdlLnNjc3MifQ== */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\n    <ion-toolbar class=\\\"ion-text-center\\\">\\n        <!-- Menu -->\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button menu=\\\"first\\\"></ion-menu-button>\\n        </ion-buttons>\\n        <!-- Título -->\\n        <ion-title>{{listTitle}}</ion-title>\\n\\n        <ion-buttons slot=\\\"end\\\">\\n            <ion-button>\\n                <ion-icon name=\\\"information-circle-outline\\\" slot=\\\"icon-only\\\"></ion-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n    <!-- Listas -->\\n    <ion-content>\\n        <ion-list>\\n            <ion-list-header>\\n                <ion-label>Mis ejercicios</ion-label>\\n            </ion-list-header>\\n\\n            <ion-item-sliding *ngFor=\\\"let item of items; let i = index\\\" class=\\\"animated fadeInDown\\\">\\n                <ion-item detail (click)=\\\"goToTimer(item._id)\\\">\\n                    <ion-grid fixed>\\n                        <ion-row>\\n                            <ion-col size=\\\"8\\\">\\n                                <ion-label>\\n                                    <h2>{{ item.title}}</h2>\\n                                    <p>{{ item.description }}</p>\\n                                </ion-label>\\n                            </ion-col>\\n                            <ion-note slot=\\\"end\\\"></ion-note>\\n                            <ion-col size=\\\"4\\\"></ion-col>\\n                        </ion-row>\\n                    </ion-grid>\\n                </ion-item>\\n\\n                <ion-item-options (click)=\\\"deleteItemAlert(item._id, i)\\\" side=\\\"end\\\">\\n                    <ion-item-option color=\\\"danger\\\">\\n                        <ion-icon color=\\\"soterosport-cream\\\" slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\n                    </ion-item-option>\\n                </ion-item-options>\\n\\n                <ion-item-options (click)=\\\"goToAddEdit(listId, item._id)\\\" side=\\\"start\\\">\\n                    <ion-item-option color=\\\"soterosport-blue\\\">\\n                        <ion-icon color=\\\"soterosport-cream\\\" slot=\\\"icon-only\\\" name=\\\"create-outline\\\"></ion-icon>\\n                    </ion-item-option>\\n                </ion-item-options>\\n            </ion-item-sliding>\\n        </ion-list>\\n    </ion-content>\\n\\n    <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"center\\\" slot=\\\"fixed\\\">\\n        <ion-fab-button color=\\\"soterosport-darkyellow\\\" (click)=\\\"goAddEdit()\\\">\\n            <ion-icon size=\\\"large\\\" color=\\\"soterosport-cream\\\" name=\\\"add\\\"></ion-icon>\\n        </ion-fab-button>\\n    </ion-fab>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ItemsPageRoutingModule } from './items-routing.module';\n\nimport { ItemsPage } from './items.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ItemsPageRoutingModule\n  ],\n  declarations: [ItemsPage]\n})\nexport class ItemsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IItem } from 'src/app/shared/interfaces/interfaces';\nimport { ItemsService } from 'src/app/shared/services/items.service';\nimport { AlertController } from '@ionic/angular';\nimport { UiService } from '../../../shared/services/ui.service';\n\n@Component({\n  selector: 'app-items',\n  templateUrl: './items.page.html',\n  styleUrls: ['./items.page.scss'],\n})\nexport class ItemsPage implements OnInit {\n\n  items: IItem[] = [];\n  listId: string;\n  enabled: boolean = true;\n  listTitle: string;\n  itemCount: number;\n\n\n  constructor\n    (\n      private itemsService: ItemsService,\n      private actvRoute: ActivatedRoute,\n      private alertCtrl: AlertController,\n      private uiService: UiService,\n      private router: Router\n    ) { }\n\n\n  ngOnInit() {\n\n    this.listTitle = this.actvRoute.snapshot.paramMap.get('listTitle');\n    this.listId = this.actvRoute.snapshot.paramMap.get('listId');\n\n\n    this.itemsService.getItems(this.listId)\n      .subscribe(resp => {\n        console.log(resp);\n        this.items.push(...resp.items);\n      });\n\n    this.itemsService.newItem.subscribe(item => {\n      // Insertamos el item en el array de items en la 1º posición\n      this.items.unshift(item);\n\n\n    });\n\n  }\n\n  // Ir a añadir o editar\n\n  goAddEdit() {\n    this.router.navigateByUrl(`/add/${this.listId}`);\n    console.log('Al añadir item tenemos listId --> ' + this.listId);\n  }\n\n  goToTimer(itemId) {\n    this.router.navigateByUrl(`timer/${itemId}`);\n  }\n\n  goToAddEdit(listId, itemId) {\n    this.router.navigateByUrl(`edit/${listId}/${itemId}`);\n  }\n\n\n  // Eliminar item\n\n  deleteItem(itemId: string, index: number) {\n\n    this.itemsService.deleteItem(itemId);\n\n    this.items.splice(index, 1);\n  }\n\n  // Alert para eliminar item\n\n  async deleteItemAlert(itemId: string, index: number) {\n\n    const alert = await this.alertCtrl.create({\n      header: 'Eliminar Item',\n      message: '¿Está seguro que desea eliminar este item?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancelar');\n          }\n        },\n        {\n          text: 'Borrar',\n          handler: () => {\n\n            this.deleteItem(itemId, index)\n            this.uiService.presentToast('Item eliminado correctamente.');\n\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n\n\n\n}\n"]}